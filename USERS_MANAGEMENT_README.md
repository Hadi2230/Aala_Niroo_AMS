# ๐ ุณุณุชู ูุฏุฑุช ฺฉุงุฑุจุฑุงู ฺฉุงูู - ุดุฑฺฉุช ุงุนูุง ูุฑู

## ๐ ูฺฺฏโูุง ฺฉูุฏ

### โ ูุฏุฑุช ฺฉุงูู ฺฉุงุฑุจุฑุงู
- **ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุฌุฏุฏ** ุจุง ุฑูุฒ ุนุจูุฑ ุงูู
- **ูุฑุงุด ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ** ุดุงูู ุชุบุฑ ุฑูุฒ ุนุจูุฑ
- **ุญุฐู ฺฉุงุฑุจุฑ** ุจุง ุชุฃุฏ ุงููุช
- **ุชุบุฑ ูุถุนุช** (ูุนุงู/ุบุฑูุนุงู)
- **ูุฏุฑุช ุฏุณุชุฑุณโูุง ุณูุงุฑุด**

### ๐ ุณุณุชู ุฏุณุชุฑุณ ูพุดุฑูุชู
- **ููุดโูุง ุงุณุชุงูุฏุงุฑุฏ**: ุงุฏููุ ูุฏุฑ ุนููุงุชุ ุชฺฉูุณูุ ุงูพุฑุงุชูุฑุ ูพุดุชุจุงูุ ฺฉุงุฑุจุฑ ุนุงุฏ
- **ููุด ุณูุงุฑุด** ุจุง ุฏุณุชุฑุณโูุง ุงูุชุฎุงุจ
- **ุฏุณุชุฑุณโูุง ุฌุฒุฆ** ุจุฑุง ูุฑ ุจุฎุด ุณุณุชู
- **ูุฏุฑุช ุฏุณุชุฑุณโูุง ุฒูุฏู** ุจุฏูู ูุงุฒ ุจู ุจุงุฒูุดุงู ุตูุญู

### ๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ ุญุฑููโุง
- **ุทุฑุงุญ ุฑุณูพุงูุณู** ุจุง Bootstrap 5
- **Modal ูุง ุชุนุงูู** ุจุฑุง ูุฑุงุด ู ูุฏุฑุช ุฏุณุชุฑุณโูุง
- **ููุงุด ุฒูุฏู ุชุนุฏุงุฏ ุฏุณุชุฑุณโูุง ุงูุชุฎุงุจ ุดุฏู**
- **ุงููุดูโูุง ูุฑู** ู ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุนุงู
- **ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุฒุจุงู ูุงุฑุณ**

## ๐ ูุงูโูุง ุณุณุชู

### ูุงูโูุง ุงุตู
- `users_complete.php` - ุตูุญู ุงุตู ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- `get_user_permissions.php` - API ุฏุฑุงูุช ุฏุณุชุฑุณโูุง ฺฉุงุฑุจุฑ
- `get_user_password.php` - API ุฏุฑุงูุช ุฑูุฒ ุนุจูุฑ ฺฉุงุฑุจุฑ
- `test_users_complete.php` - ุชุณุช ฺฉุงูู ุณุณุชู

### ูุงูโูุง ูพุดุชุจุงู
- `users_fixed.php` - ูุณุฎู ูุจู (ูพุดุชุจุงู)
- `test_users_system.php` - ุชุณุช ูุณุฎู ูุจู

## ๐๏ธ ุณุงุฎุชุงุฑ ุฏุชุงุจุณ

### ุฌุฏูู `users`
```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    full_name VARCHAR(255),
    email VARCHAR(255) UNIQUE,
    role ENUM('ุงุฏูู', 'ฺฉุงุฑุจุฑ ุนุงุฏ', 'ุงูพุฑุงุชูุฑ', 'ูุฏุฑ ุนููุงุช', 'ุชฺฉูุณู', 'ูพุดุชุจุงู', 'ุณูุงุฑุด'),
    is_active BOOLEAN DEFAULT true,
    last_login TIMESTAMP NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### ุฌุฏูู `custom_roles`
```sql
CREATE TABLE custom_roles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL UNIQUE,
    role_name VARCHAR(100) NOT NULL,
    permissions JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

## ๐ง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ฺฉูพ ูุงูโูุง
```bash
# ฺฉูพ ูุงูโูุง ุงุตู
cp users_complete.php /path/to/your/project/
cp get_user_permissions.php /path/to/your/project/
cp get_user_password.php /path/to/your/project/
```

### 2. ุจุฑุฑุณ ูุงุจุณุชฺฏโูุง
- `config.php` - ูุงู ูพฺฉุฑุจูุฏ ุงุตู
- `navbar.php` - ููุงุฑ ูุงูุจุฑ (ุงุฎุชุงุฑ)
- PHP 7.4+ ุจุง PDO MySQL
- Bootstrap 5 ู Font Awesome 6

### 3. ุชุณุช ุณุณุชู
```bash
# ุงุฌุฑุง ุชุณุช ฺฉุงูู
php test_users_complete.php
```

## ๐ ุฑุงูููุง ุงุณุชูุงุฏู

### ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุฌุฏุฏ
1. **ูพุฑ ฺฉุฑุฏู ูุฑู** ุจุง ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ
2. **ุงูุชุฎุงุจ ููุด** ุงุฒ ูุณุช ููุฌูุฏ
3. **ุชุนุฑู ุฏุณุชุฑุณโูุง ุณูุงุฑุด** (ุฏุฑ ุตูุฑุช ุงูุชุฎุงุจ ููุด ุณูุงุฑุด)
4. **ุชุฃุฏ ู ุฐุฎุฑู**

### ูุฑุงุด ฺฉุงุฑุจุฑ
1. **ฺฉูฺฉ ุฑู ุฏฺฉูู ูุฑุงุด** ุฏุฑ ุฌุฏูู ฺฉุงุฑุจุฑุงู
2. **ุชุบุฑ ุงุทูุงุนุงุช** ููุฑุฏ ูุงุฒ
3. **ุชุบุฑ ุฑูุฒ ุนุจูุฑ** (ุงุฎุชุงุฑ)
4. **ุฐุฎุฑู ุชุบุฑุงุช**

### ูุฏุฑุช ุฏุณุชุฑุณโูุง
1. **ฺฉูฺฉ ุฑู ุขฺฉูู ุฏุณุชุฑุณ** ุฏุฑ ุฌุฏูู ฺฉุงุฑุจุฑุงู
2. **ุงูุชุฎุงุจ ุฏุณุชุฑุณโูุง ููุฑุฏ ูุธุฑ** ุงุฒ ุจุฎุดโูุง ูุฎุชูู
3. **ุฐุฎุฑู ุฏุณุชุฑุณโูุง**

## ๐ฏ ุฏุณุชุฑุณโูุง ููุฌูุฏ

### ุฏุงุดุจูุฑุฏ
- `dashboard.view` - ูุดุงูุฏู ุฏุงุดุจูุฑุฏ
- `dashboard.stats` - ูุดุงูุฏู ุขูุงุฑ

### ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- `users.view` - ูุดุงูุฏู ฺฉุงุฑุจุฑุงู
- `users.create` - ุงุฌุงุฏ ฺฉุงุฑุจุฑ
- `users.edit` - ูุฑุงุด ฺฉุงุฑุจุฑ
- `users.delete` - ุญุฐู ฺฉุงุฑุจุฑ
- `users.permissions` - ูุฏุฑุช ุฏุณุชุฑุณโูุง

### ูุฏุฑุช ูุดุชุฑุงู
- `customers.view` - ูุดุงูุฏู ูุดุชุฑุงู
- `customers.create` - ุงุฌุงุฏ ูุดุชุฑ
- `customers.edit` - ูุฑุงุด ูุดุชุฑ
- `customers.delete` - ุญุฐู ูุดุชุฑ
- `customers.export` - ุฎุฑูุฌ ูุดุชุฑุงู

### ูุฏุฑุช ุฏุงุฑุงโูุง
- `assets.view` - ูุดุงูุฏู ุฏุงุฑุงโูุง
- `assets.create` - ุงุฌุงุฏ ุฏุงุฑุง
- `assets.edit` - ูุฑุงุด ุฏุงุฑุง
- `assets.delete` - ุญุฐู ุฏุงุฑุง
- `assets.assign` - ุชุฎุตุต ุฏุงุฑุง
- `assets.maintenance` - ุชุนูุฑุงุช ุฏุงุฑุง

### ูุฏุฑุช ุชฺฉุชโูุง
- `tickets.view` - ูุดุงูุฏู ุชฺฉุชโูุง
- `tickets.create` - ุงุฌุงุฏ ุชฺฉุช
- `tickets.edit` - ูุฑุงุด ุชฺฉุช
- `tickets.assign` - ุชุฎุตุต ุชฺฉุช
- `tickets.resolve` - ุญู ุชฺฉุช
- `tickets.close` - ุจุณุชู ุชฺฉุช

### ูุฏุฑุช ุชุนูุฑุงุช
- `maintenance.view` - ูุดุงูุฏู ุชุนูุฑุงุช
- `maintenance.create` - ุงุฌุงุฏ ุชุนูุฑุงุช
- `maintenance.edit` - ูุฑุงุด ุชุนูุฑุงุช
- `maintenance.assign` - ุชุฎุตุต ุชุนูุฑุงุช
- `maintenance.complete` - ุชฺฉูู ุชุนูุฑุงุช
- `maintenance.schedule` - ุจุฑูุงููโุฑุฒ ุชุนูุฑุงุช

### ฺฏุฒุงุฑุดโูุง ู ุขูุงุฑ
- `reports.view` - ูุดุงูุฏู ฺฏุฒุงุฑุดโูุง
- `reports.create` - ุงุฌุงุฏ ฺฏุฒุงุฑุด
- `reports.export` - ุฎุฑูุฌ ฺฏุฒุงุฑุดโูุง
- `reports.analytics` - ุชุญูู ุขูุงุฑ

### ูพุงูโูุง ู ุงุทูุงุนโุฑุณุงู
- `messages.view` - ูุดุงูุฏู ูพุงูโูุง
- `messages.send` - ุงุฑุณุงู ูพุงู
- `messages.receive` - ุฏุฑุงูุช ูพุงู
- `messages.broadcast` - ุงุฑุณุงู ููฺฏุงู

### ุชูุธูุงุช ุณุณุชู
- `settings.view` - ูุดุงูุฏู ุชูุธูุงุช
- `settings.edit` - ูุฑุงุด ุชูุธูุงุช
- `settings.backup` - ูพุดุชุจุงูโฺฏุฑ
- `settings.logs` - ูุดุงูุฏู ูุงฺฏโูุง

### ูุฏุฑุช ุจุงุฒุฏุฏ ุงุฒ ฺฉุงุฑุฎุงูู
- `visit.view` - ูุดุงูุฏู ุจุงุฒุฏุฏูุง
- `visit.create` - ุงุฌุงุฏ ุฏุฑุฎูุงุณุช ุจุงุฒุฏุฏ
- `visit.edit` - ูุฑุงุด ุจุงุฒุฏุฏ
- `visit.schedule` - ุจุฑูุงููโุฑุฒ ุจุงุฒุฏุฏ
- `visit.checkin` - ูุฑูุฏ ุจุงุฒุฏุฏฺฉููุฏฺฏุงู
- `visit.reports` - ฺฏุฒุงุฑุด ุจุงุฒุฏุฏูุง

## ๐ ุงููุช

### ูฺฺฏโูุง ุงููุช
- **ุฑูุฒฺฏุฐุงุฑ ุฑูุฒ ุนุจูุฑ** ุจุง `password_hash()`
- **ูุญุงูุธุช CSRF** ุจุง ุชูฺฉูโูุง ุงููุช
- **ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏ** ุจุง `sanitizeInput()`
- **ุจุฑุฑุณ ุฏุณุชุฑุณ** ุจุง `hasPermission()`
- **ุฌููฺฏุฑ ุงุฒ ุญุฐู ุฎูุฏ** ุชูุณุท ฺฉุงุฑุจุฑ

### ูฺฉุงุช ุงููุช
- ููุดู ุงุฒ HTTPS ุงุณุชูุงุฏู ฺฉูุฏ
- ุฑูุฒูุง ุนุจูุฑ ูู ุชุนุฑู ฺฉูุฏ
- ุฏุณุชุฑุณโูุง ุฑุง ุจู ุตูุฑุช ููุธู ุจุฑุฑุณ ฺฉูุฏ
- ูุงฺฏโูุง ุณุณุชู ุฑุง ูุงูุชูุฑ ฺฉูุฏ

## ๐ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ
1. **ุฎุทุง 500**: ุจุฑุฑุณ `config.php` ู ุฌุฏุงูู ุฏุชุงุจุณ
2. **ุฏุณุชุฑุณ ุบุฑูุฌุงุฒ**: ุจุฑุฑุณ `hasPermission()` ุฏุฑ `config.php`
3. **Modal ฺฉุงุฑ ููโฺฉูุฏ**: ุจุฑุฑุณ Bootstrap ู JavaScript
4. **ุฏุณุชุฑุณโูุง ุฐุฎุฑู ููโุดููุฏ**: ุจุฑุฑุณ `custom_roles` table

### ุชุณุช ุณุณุชู
```bash
# ุชุณุช ฺฉุงูู
php test_users_complete.php

# ุชุณุช API ูุง
curl -X GET "http://localhost/Aala_Niroo_AMS/get_user_permissions.php?user_id=1"
curl -X GET "http://localhost/Aala_Niroo_AMS/get_user_password.php?user_id=1"
```

## ๐ ูพุดุชุจุงู

ุจุฑุง ูพุดุชุจุงู ู ฺฏุฒุงุฑุด ูุดฺฉูุงุช:
- ุจุฑุฑุณ ูุงฺฏโูุง ุณุณุชู
- ุงุฌุฑุง ุชุณุชโูุง ููุฌูุฏ
- ุจุฑุฑุณ ูุงูโูุง ูพฺฉุฑุจูุฏ

---

**ูุณุฎู**: 1.0.0  
**ุชุงุฑุฎ**: 2024  
**ุชูุณุนูโุฏููุฏู**: ุณุณุชู ูุฏุฑุช ุดุฑฺฉุช ุงุนูุง ูุฑู